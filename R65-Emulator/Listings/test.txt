
R65 Pascal program TEST            4/11/23     page 1


                   1 (    4) program test;
                   2 (    4) uses syslib,strlib;
                   3 ( 1367) 
                   4 ( 1367) const  cx='x';
                   5 ( 1370)        cy='yy';
                   6 ( 1370) 
                   7 ( 1370) var i: integer;
                   8 ( 1370)     s1,s2,s3,s4: cpnt;
                   9 ( 1370)     ch:char;
                  10 ( 1370)     res: array[2] of cpnt;
                  11 ( 1370)     stack: array[7] of packed char;
                  12 ( 1370) 
                  13 ( 1370) proc testcmp(t1,t2:cpnt);
                  14 ( 1370) var r: integer;
                  15 ( 1373) begin
                  16 ( 1373)   r:=strcmp(t1,t2);
                  17 ( 1391)   writeln(t1,  ' is ',  res[r+1],  t2);
                  18 ( 1428) end;
                  19 ( 1428) 
                  20 ( 1429) proc testpos(ch: char; pos:integer);
                  21 ( 1429) begin
                  22 ( 1429)   writeln('checkpos',  chr($27),  ch,  chr($27),
                  23 ( 1454)     ',',  chr($27),  s1,  chr($27),  ',',
                  24 ( 1473)     pos, '):',  strpos(ch,s1,pos));
                  25 ( 1508) end;
                  26 ( 1508) 
                  27 ( 1509) begin
                  28 ( 1509)   s1:=nil; s2:=nil; s3:=nil; s4:=nil;
                  29 ( 1531)   s1:=strnew; s2:=strnew; s3:=strnew;
                  30 ( 1561) 
                  31 ( 1565)   s1:='<testing>';
                  32 ( 1577)   writeln('s1: ',  s1);
                  33 ( 1597)   writeln('s1 is now a string constant');
                  34 ( 1631)   writeln('strlen(s1): ',  strlen(s1));
                  35 ( 1663)   strcpy(s1,s2,20);
                  36 ( 1679)   writeln('strcpy(s1,s2): s2=',s2);
                  37 ( 1709)   stradd(s1,s2);
                  38 ( 1723)   writeln('stradd(s1,s2): s2=',s2);
                  39 ( 1753)   stradd('<****>',s2);
                  40 ( 1772)   writeln('stradd(',  chr($27),
                  41 ( 1782)     '****',   chr($27) ,  ',s2): s2=',  s2);
                  42 ( 1814)   writeln;
                  43 ( 1814)   write(invvid,'Waiting, type any key ',norvid);
                  44 ( 1849)   read(@input,ch);
                  45 ( 1857) 
                  46 ( 1858)   res[0]:='smaller than ';
                  47 ( 1876)   res[1]:='equal to ';
                  48 ( 1894)   res[2]:='larger than ';
                  49 ( 1915)   testcmp('abcd','abcd');
                  50 ( 1939)   testcmp('abc','abcd');
                  51 ( 1958)   testcmp('abcd','abc');
                  52 ( 1977)   testcmp('abcx','abcd');
                  53 ( 1997)   testcmp('abcd','abcx');
                  54 ( 2017)   testcmp('axcd','abcd');
                  55 ( 2037)   testcmp('abcd','axcd');
                  56 ( 2057)   writeln;
                  57 ( 2057)   write(invvid,'Waiting, type any key ',norvid);
                  58 ( 2092)   read(@input,ch);
                  59 ( 2100) 

----------------------------------------------------------------------

R65 Pascal program TEST            4/11/23     page 2

                  60 ( 2101)   writeln('Checking strpos in ', s1, ':');
                  61 ( 2134)   testpos('a',0);
                  62 ( 2144)   testpos('e',0);
                  63 ( 2154)   testpos('>',0);
                  64 ( 2164)   testpos('e',16);
                  65 ( 2174)   testpos('t',0);
                  66 ( 2184)   testpos('t',2);
                  67 ( 2194)   writeln;
                  68 ( 2194) 
                  69 ( 2200)   writeln('field size 3:');
                  70 ( 2220)   intstr(100,s3,3);   writeln(100,': ',tab8,s3);
                  71 ( 2254)   intstr(-20,s3,3);   writeln(-20,': ',tab8,s3);
                  72 ( 2290)   intstr(-300,s3,3);  writeln(-300,': ',tab8,s3);
                  73 ( 2328)   intstr(32767,s3,3); writeln(32767,': ',tab8,s3);
                  74 ( 2364)   intstr(0,s3,3);     writeln(0,': ',tab8,s3);
                  75 ( 2398) 
                  76 ( 2398)   repeat
                  77 ( 2398)     write('input?'); i:=strread(input,s3);
                  78 ( 2419)     writeln(i,  ' chars read, string=', s3);
                  79 ( 2460)     until i=0;
                  80 ( 2466) end.
                  81 ( 2470) 

End compile

Code lenght:          2469
Compiler stack size:  50
Ident stack size:     80
Pascal errors:        0
