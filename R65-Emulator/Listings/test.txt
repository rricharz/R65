
R65 Pascal program TEST            2/11/23     page 1


                   1 (    4) program test;
                   2 (    4) uses syslib,strlib;
                   3 ( 1080) 
                   4 ( 1080) const  cx='x';
                   5 ( 1083)        cy='yy';
                   6 ( 1083) 
                   7 ( 1083) var i: integer;
                   8 ( 1083)     s1,s2,s3,s4: cpnt;
                   9 ( 1083)     ch:char;
                  10 ( 1083)     res: array[2] of cpnt;
                  11 ( 1083)     stack: array[7] of packed char;
                  12 ( 1083) 
                  13 ( 1083) proc testcmp(t1,t2:cpnt);
                  14 ( 1083) var r: integer;
                  15 ( 1086) begin
                  16 ( 1086)   r:=strcmp(t1,t2);
                  17 ( 1104)   writeln(t1,  ' is ',  res[r+1],  t2);
                  18 ( 1141) end;
                  19 ( 1141) 
                  20 ( 1142) proc testpos(ch: char; pos:integer);
                  21 ( 1142) begin
                  22 ( 1142)   writeln('checkpos',  chr($27),  ch,  chr($27),
                  23 ( 1167)     ',',  chr($27),  s1,  chr($27),  ',',
                  24 ( 1186)     pos, '):',  strpos(ch,s1,pos));
                  25 ( 1221) end;
                  26 ( 1221) 
                  27 ( 1222) begin
                  28 ( 1222)   s1:=nil; s2:=nil; s3:=nil; s4:=nil;
                  29 ( 1244)   s1:=strnew; s2:=strnew; s3:=strnew;
                  30 ( 1274) 
                  31 ( 1278)   s1:='<testing>';
                  32 ( 1290)   writeln('s1: ',  s1);
                  33 ( 1310)   writeln('s1 is now a string constant');
                  34 ( 1344)   writeln('strlen(s1): ',  strlen(s1));
                  35 ( 1376)   strcpy(s1,s2);
                  36 ( 1390)   writeln('strcpy(s1,s2): s2=',s2);
                  37 ( 1420)   stradd(s1,s2);
                  38 ( 1434)   writeln('stradd(s1,s2): s2=',s2);
                  39 ( 1464)   stradd('<****>',s2);
                  40 ( 1483)   writeln('stradd(',  chr($27),
                  41 ( 1493)     '****',   chr($27) ,  ',s2): s2=',  s2);
                  42 ( 1525)   writeln;
                  43 ( 1525) 
                  44 ( 1531)   res[0]:='smaller than ';
                  45 ( 1549)   res[1]:='equal to ';
                  46 ( 1567)   res[2]:='larger than ';
                  47 ( 1588)   testcmp('abcd','abcd');
                  48 ( 1612)   testcmp('abc','abcd');
                  49 ( 1631)   testcmp('abcd','abc');
                  50 ( 1650)   testcmp('abcx','abcd');
                  51 ( 1670)   testcmp('abcd','abcx');
                  52 ( 1690)   testcmp('axcd','abcd');
                  53 ( 1710)   testcmp('abcd','axcd');
                  54 ( 1730)   writeln;
                  55 ( 1730) 
                  56 ( 1736)   writeln('Checking strpos in ', s1, ':');
                  57 ( 1769)   testpos('a',0);
                  58 ( 1779)   testpos('e',0);
                  59 ( 1789)   testpos('>',0);

----------------------------------------------------------------------

R65 Pascal program TEST            2/11/23     page 2

                  60 ( 1799)   testpos('e',16);
                  61 ( 1809)   testpos('t',0);
                  62 ( 1819)   testpos('t',2);
                  63 ( 1829)   writeln;
                  64 ( 1829) 
                  65 ( 1835)   repeat
                  66 ( 1835)     write('input?'); i:=strread(input,s3);
                  67 ( 1856)     writeln(i,  ' chars read, string=', s3);
                  68 ( 1897)     until i=0;
                  69 ( 1903) end.
                  70 ( 1907) 

End compile

Code lenght:          1906
Compiler stack size:  45
Ident stack size:     79
Pascal errors:        0
