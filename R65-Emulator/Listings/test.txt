
R65 Pascal program TEST            4/11/23     page 1


                   1 (    4) program test;
                   2 (    4) uses syslib,strlib;
                   3 ( 1463) 
                   4 ( 1463) const  cx='x';
                   5 ( 1466)        cy='yy';
                   6 ( 1466) 
                   7 ( 1466) var i: integer;
                   8 ( 1466)     s1,s2,s3,s4: cpnt;
                   9 ( 1466)     ch:char;
                  10 ( 1466)     res: array[2] of cpnt;
                  11 ( 1466)     stack: array[7] of packed char;
                  12 ( 1466) 
                  13 ( 1466) proc testcmp(t1,t2:cpnt);
                  14 ( 1466) var r: integer;
                  15 ( 1469) begin
                  16 ( 1469)   r:=strcmp(t1,t2);
                  17 ( 1487)   writeln(t1,  ' is ',  res[r+1],  t2);
                  18 ( 1524) end;
                  19 ( 1524) 
                  20 ( 1525) proc testpos(ch: char; pos:integer);
                  21 ( 1525) begin
                  22 ( 1525)   writeln('checkpos',  chr($27),  ch,  chr($27),
                  23 ( 1550)     ',',  chr($27),  s1,  chr($27),  ',',
                  24 ( 1569)     pos, '):',  strpos(ch,s1,pos));
                  25 ( 1604) end;
                  26 ( 1604) 
                  27 ( 1605) begin
                  28 ( 1605)   s1:=nil; s2:=nil; s3:=nil; s4:=nil;
                  29 ( 1627)   s1:=strnew; s2:=strnew; s3:=strnew;
                  30 ( 1657) 
                  31 ( 1661)   s1:='<testing>';
                  32 ( 1673)   writeln('s1: ',  s1);
                  33 ( 1693)   writeln('s1 is now a string constant');
                  34 ( 1727)   writeln('strlen(s1): ',  strlen(s1));
                  35 ( 1759)   strcpy(s1,s2);
                  36 ( 1773)   writeln('strcpy(s1,s2): s2=',s2);
                  37 ( 1803)   stradd(s1,s2);
                  38 ( 1817)   writeln('stradd(s1,s2): s2=',s2);
                  39 ( 1847)   stradd('<****>',s2);
                  40 ( 1866)   writeln('stradd(',  chr($27),
                  41 ( 1876)     '****',   chr($27) ,  ',s2): s2=',  s2);
                  42 ( 1908)   writeln;
                  43 ( 1908) 
                  44 ( 1914)   res[0]:='smaller than ';
                  45 ( 1932)   res[1]:='equal to ';
                  46 ( 1950)   res[2]:='larger than ';
                  47 ( 1971)   testcmp('abcd','abcd');
                  48 ( 1995)   testcmp('abc','abcd');
                  49 ( 2014)   testcmp('abcd','abc');
                  50 ( 2033)   testcmp('abcx','abcd');
                  51 ( 2053)   testcmp('abcd','abcx');
                  52 ( 2073)   testcmp('axcd','abcd');
                  53 ( 2093)   testcmp('abcd','axcd');
                  54 ( 2113)   writeln;
                  55 ( 2113) 
                  56 ( 2119)   writeln('Checking strpos in ', s1, ':');
                  57 ( 2152)   testpos('a',0);
                  58 ( 2162)   testpos('e',0);
                  59 ( 2172)   testpos('>',0);

----------------------------------------------------------------------

R65 Pascal program TEST            4/11/23     page 2

                  60 ( 2182)   testpos('e',16);
                  61 ( 2192)   testpos('t',0);
                  62 ( 2202)   testpos('t',2);
                  63 ( 2212)   writeln;
                  64 ( 2212) 
                  65 ( 2218)   writeln('field size 3');
                  66 ( 2237)   intstr(100,s3,3);   writeln(100,': ',tab8,s3);
                  67 ( 2271)   intstr(-20,s3,3);   writeln(-20,': ',tab8,s3);
                  68 ( 2307)   intstr(-300,s3,3);  writeln(-300,': ',tab8,s3);
                  69 ( 2345)   intstr(32767,s3,3); writeln(32767,': ',tab8,s3);
                  70 ( 2381)   intstr(0,s3,3);     writeln(0,': ',tab8,s3);
                  71 ( 2415) 
                  72 ( 2415)   hexstr(255,s3); writeln(255,' ',s3);
                  73 ( 2443)   hexstr(9,s3); writeln(255,' ',s3);
                  74 ( 2471) 
                  75 ( 2471)   repeat
                  76 ( 2471)     write('input?'); i:=strread(input,s3);
                  77 ( 2492)     writeln(i,  ' chars read, string=', s3);
                  78 ( 2533)     until i=0;
                  79 ( 2539) 
                  80 ( 2543) end.
                  81 ( 2543) 

End compile

Code lenght:          2542
Compiler stack size:  52
Ident stack size:     81
Pascal errors:        0
